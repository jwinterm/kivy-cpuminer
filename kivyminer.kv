#:kivy 1.8.0

<RootWidget>:
    id: rootwidget
    threadInput: threadInput
    urlInput: urlInput
    userAddress: userAddress
    outputLabel: outputLabel
    hashrateLabel: hashrateLabel
    orientation: 'vertical'
    padding: 30, 30, 30, 30


    Image:
        size_hint: 1, 0.25
        source: 'logo_wide.png'

    Label:
        size_hint: 1, 0.15
        text: "Myriadcoin Yescrypt CPU Miner"

    BoxLayout:
        size_hint: 1, 0.1
        orientation: 'horizontal'
        Label:
            text: "Threads (max=# of cpu cores, min=1)"
        TextInput:
            id: threadInput
            multiline: False
            text: "1"

    BoxLayout:
        size_hint: 1, 0.1
        orientation: 'horizontal'
        Label:
            text: "Mining pool and port"
        TextInput:
            id: urlInput
            multiline: False
            text: "stratum+tcp://stratum.eu.miners-pool.eu:8428"

    BoxLayout:
        size_hint: 1, 0.1
        orientation: 'horizontal'
        Label:
            text: "Wallet address"
        TextInput:
            id: userAddress
            multiline: False
            text: "MTXdQYbPaPMn2dLHgwEtVAN7mrexZPq7ar"


    BoxLayout:
        padding: 0, 10, 0, 10
        size_hint: 1, 0.2
        orientation: 'horizontal'
        Button:
            text: "Start mining"
            on_press: root.start_miner()
        Button:
            text: "Stop mining"
            on_press: root.stop_miner()

    BoxLayout:
        orientation: 'horizontal'
        size_hint: 1, 0.35
        BoxLayout:
            orientation: 'vertical'
            padding: 0, 10, 10, 10
            size_hint: 0.75, 1
            Label:
                text: "Minerd output:"
                size_hint: 0.25, 0.2

            Label:
                id: outputLabel
                font_size: 10
                size_hint: 1, 0.9
                canvas.before:
                    Color:
                        rgb: .1, .2, .3
                    Rectangle:
                        pos: self.pos
                        size: self.size
        BoxLayout:
            orientation: 'vertical'
            padding: 0, 10, 0, 10
            size_hint: 0.25, 1
            Label:
                text: "Miner hashrate:"
                size_hint: 0.75, 0.2

            Label:
                id: hashrateLabel
                size_hint: 1, 0.9
                font_size: 16
                canvas.before:
                    Color:
                        rgb: .1, .2, .3
                    Rectangle:
                        pos: self.pos
                        size: self.size
